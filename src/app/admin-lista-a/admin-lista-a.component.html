<app-admin-menu></app-admin-menu>
<main>
    <section class="tabla-abogados-container">
        <h1>Lista de Abogados Base de Datos</h1>
        <table class="tablaAbogados" id="tabla-abogados">
            <thead>
                <tr> 
                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Correo</th>
                    <th scope="col">Contraseña</th>
                    <th scope="col">Rol</th>
                    <th scope="col">Teléfono</th>
                    <th scope="col">Se creó</th>
                    <th scope="col">Se actualizó</th>
                    <th scope="col">Rama</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let modelo of datos">
                    <td>{{modelo.id}}</td>
                    <td>{{modelo.nombre}}</td>
                    <td>{{modelo.correo}}</td>
                    <td>{{modelo.password}}</td>
                    <td>{{modelo.rol}}</td>
                    <td>{{modelo.telefono}}</td>
                    <td>{{modelo.created_at}}</td>
                    <td>{{modelo.updated_at}}</td>
                    <td>{{modelo.rama_id}}</td>
                    <td>
                        <button class="boton-accion boton-editar" (click)="abrirFormularioEdicion(modelo)">Editar</button>
                        <button class="boton-accion boton-eliminar" (click)="eliminarAbogado(modelo.id)">Eliminar</button>
                    </td>
                </tr>
            </tbody>
        </table>
        <button (click)="volverAdminPrincipal()" class="info-item">Volver a Admin Principal</button>
    </section>

   <!-- Modal de Edición de Abogado -->
<div *ngIf="formularioVisible" class="modal-overlay">
  <div class="modal-content">
      <h2>Editar Abogado</h2>
      <form (ngSubmit)="actualizarAbogado()">
          <!-- Nombre del Abogado -->
          <div class="form-group">
              <label for="nombre">Nombre:</label>
              <input type="text" id="nombre" [(ngModel)]="abogadoEnEdicion.nombre" name="nombre" required />
          </div>

          <!-- Correo del Abogado -->
          <div class="form-group">
              <label for="correo">Correo:</label>
              <input type="email" id="correo" [(ngModel)]="abogadoEnEdicion.correo" name="correo" required />
          </div>

          <!-- Teléfono del Abogado -->
          <div class="form-group">
              <label for="telefono">Teléfono:</label>
              <input type="text" id="telefono" [(ngModel)]="abogadoEnEdicion.telefono" name="telefono" required />
          </div>

          <!-- Rol del Abogado -->
          <div class="form-group">
              <label for="rol">Rol:</label>
              <select id="rol" [(ngModel)]="abogadoEnEdicion.rol" name="rol" required>
                  <option value="abogado">Abogado</option>
                  <option value="admin">Administrador</option>
              </select>
          </div>

          <!-- Rama del Derecho -->
          <div class="form-group">
              <label for="rama_id">Rama del Derecho:</label>
              <select id="rama_id" [(ngModel)]="abogadoEnEdicion.rama_id" name="rama_id" required>
                  <option value="1">Derecho Civil</option>
                  <option value="2">Derecho Penal</option>
                  <option value="3">Derecho Administrativo</option>
                  <option value="4">Derecho Laboral</option>
                  <option value="5">Derecho Comercial</option>
                  <option value="6">Derecho Internacional</option>
                  <option value="7">Derecho Constitucional</option>
                  <option value="8">Derecho Ambiental</option>
              </select>
          </div>

          <!-- Contraseña del Abogado -->
          <div class="form-group">
              <label for="password">Contraseña:</label>
              <input type="password" id="password" [(ngModel)]="abogadoEnEdicion.password" name="password" required />
          </div>

          <!-- Botones de Acción -->
          <div class="button-group">
              <button type="submit" class="info-item">Actualizar Abogado</button>
              <button type="button" (click)="cerrarFormularioEdicion()" class="info-item cancel-button">Cancelar</button>
          </div>
      </form>
  </div>
</div>

</main>

<app-footer></app-footer>
